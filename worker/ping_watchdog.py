import os, time, sys\napi_key = os.environ.get("RENDER_API_KEY")\nservice_id = os.environ.get("RENDER_SERVICE_ID")\nif not api_key or not service_id:\n    print("⚠️ WARNING: Missing RENDER_API_KEY or RENDER_SERVICE_ID. Using external cron-job.org instead.")\n    while True:\n        print("[Worker] Passive standby mode — cron-job.org expected to ping /health endpoint.")\n        time.sleep(3600)\nelse:\n    import requests\n    print(f"✅ Watchdog active for service {service_id}")\n    while True:\n        try:\n            res = requests.post(\n                f"https://api.render.com/v1/services/{service_id}/deploys",\n                headers={"Authorization": f"Bearer {api_key}"}\n            )\n            print(f"[Worker] Triggered redeploy — status: {res.status_code}")\n        except Exception as e:\n            print(f"[Worker ERROR] {e}")\n        time.sleep(3600)\n
